<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FreedomX Games</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>FreedomX Games</h1>
        <div id="game-area">
            <canvas id="particle-canvas"></canvas>
            <div id="game-content">
                <h2>Play Now</h2>
                <button id="start-game">Start Game</button>
                <div id="payout-info">
                    <h3>Payout Structure</h3>
                    <p>Top 25% of players split 75% of the pot. Remaining 25% goes to the next 50% of players. Bottom 25% receive no payout.</p>
                    <div id="example-payout"></div>
                </div>
            </div>
        </div>
    </div>
    <script>
        // Particle effect for Web3 aesthetic
        const canvas = document.getElementById('particle-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        const particles = [];
        class Particle {
            constructor() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.size = Math.random() * 5 + 1;
                this.speedX = Math.random() * 3 - 1.5;
                this.speedY = Math.random() * 3 - 1.5;
                this.color = `hsl(${Math.random() * 60 + 180}, 100%, 50%)`; // Neon colors
            }
            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                if (this.size > 0.2) this.size -= 0.1;
            }
            draw() {
                ctx.fillStyle = this.color;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }
        function handleParticles() {
            for (let i = 0; i < particles.length; i++) {
                particles[i].update();
                particles[i].draw();
                if (particles[i].size <= 0.2) {
                    particles.splice(i, 1);
                    i--;
                }
            }
        }
        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            if (particles.length < 100) {
                particles.push(new Particle());
            }
            handleParticles();
            requestAnimationFrame(animate);
        }
        animate();

        // Payout calculation
        function calculatePayouts(players, pot) {
            const sortedPlayers = players.sort((a, b) => b.score - a.score);
            const top25Percent = Math.ceil(players.length * 0.25);
            const next50Percent = Math.floor(players.length * 0.50);
            const topPot = pot * 0.75;
            const nextPot = pot * 0.25;
            let payouts = [];
            for (let i = 0; i < sortedPlayers.length; i++) {
                if (i < top25Percent) {
                    payouts.push({ player: sortedPlayers[i].name, payout: (topPot / top25Percent).toFixed(2) });
                } else if (i < top25Percent + next50Percent) {
                    payouts.push({ player: sortedPlayers[i].name, payout: (nextPot / next50Percent).toFixed(2) });
                } else {
                    payouts.push({ player: sortedPlayers[i].name, payout: 0 });
                }
            }
            return payouts;
        }

        // Example payout display
        const examplePlayers = [
            { name: "Player1", score: 100 },
            { name: "Player2", score: 90 },
            { name: "Player3", score: 80 },
            { name: "Player4", score: 70 },
            { name: "Player5", score: 60 },
            { name: "Player6", score: 50 },
            { name: "Player7", score: 40 },
            { name: "Player8", score: 30 }
        ];
        const examplePot = 1000;
        const examplePayouts = calculatePayouts(examplePlayers, examplePot);
        const payoutDiv = document.getElementById('example-payout');
        payoutDiv.innerHTML = '<h4>Example Payouts ($1000 Pot, 8 Players):</h4>';
        examplePayouts.forEach(p => {
            payoutDiv.innerHTML += `<p>${p.player}: $${p.payout}</p>`;
        });

        // Game start button (placeholder)
        document.getElementById('start-game').addEventListener('click', () => {
            alert('Game starting soon! Check back for updates.');
        });
    </script>
</body>
</html>
